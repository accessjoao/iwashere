{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaof\\\\OneDrive\\\\Desktop\\\\Codworks Senior\\\\Solo\\\\frontend\\\\iwashere\\\\client\\\\src\\\\Components\\\\Mapbox\\\\mapbox.jsx\";\nimport * as React from \"react\";\nimport { useState, useEffect, Component } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { listLogEntries } from \"../../FrontApi\";\nimport \"./mapbox.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MapBox extends Component {\n  constructor() {\n    var _s = $RefreshSig$();\n\n    super(...arguments);\n    this.mapBox = _s(() => {\n      _s();\n\n      const [logEntries, setLogEntries] = useState([]);\n      const [showPopup, setShowPopup] = useState({});\n      const [viewport, setViewport] = useState({\n        width: \"100vw\",\n        height: \"100vh\",\n        latitude: 0,\n        longitude: 0,\n        zoom: 1.5\n      });\n      useEffect(() => {\n        (async () => {\n          const logEntries = await listLogEntries();\n          setLogEntries(logEntries);\n        })();\n      }, []);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n          mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n          onViewportChange: nextViewport => setViewport(nextViewport),\n          mapStyle: \"mapbox://styles/accessjoao/ckvwr2unz0sgb14oa0tsnxngk\",\n          children: logEntries.map(entry => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Marker, {\n              latitude: entry.latitude,\n              longitude: entry.longitude //offsetLeft={-5}\n              // offsetTop={-20}\n              ,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setShowPopup({ ...showPopup,\n                  [entry._id]: true\n                }),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"marker\",\n                  style: {\n                    width: \"24px\",\n                    height: \"24px\"\n                  },\n                  viewBox: \"0 0 24 24\",\n                  \"stroke-width\": \"1.5\",\n                  fill: \"none\",\n                  \"stroke-linecap\": \"round\",\n                  \"stroke-linejoin\": \"round\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"4\",\n                    y1: \"22\",\n                    x2: \"4\",\n                    y2: \"15\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 17\n              }, this)\n            }, entry._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 15\n            }, this), showPopup[entry._id] ? /*#__PURE__*/_jsxDEV(Popup, {\n              latitude: entry.latitude,\n              longitude: entry.longitude,\n              closeButton: true,\n              closeOnClick: false,\n              onClose: () => this.setState({\n                showPopup: false\n              }),\n              anchor: \"top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"You are here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this);\n    }, \"USeOc0KoBRDMtOOWgUOA8frE5zU=\");\n  }\n\n}\n\nexport default MapBox;","map":{"version":3,"sources":["C:/Users/joaof/OneDrive/Desktop/Codworks Senior/Solo/frontend/iwashere/client/src/Components/Mapbox/mapbox.jsx"],"names":["React","useState","useEffect","Component","ReactMapGL","Marker","Popup","listLogEntries","MapBox","mapBox","logEntries","setLogEntries","showPopup","setShowPopup","viewport","setViewport","width","height","latitude","longitude","zoom","process","env","REACT_APP_MAPBOX_TOKEN","nextViewport","map","entry","_id","setState"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,SAA9B,QAA+C,OAA/C;AACA,OAAOC,UAAP,IAAqBC,MAArB,EAA6BC,KAA7B,QAA0C,cAA1C;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAO,cAAP;;;;AAEA,MAAMC,MAAN,SAAqBL,SAArB,CAA+B;AAAA;AAAA;;AAAA;AAAA,SAC7BM,MAD6B,MACpB,MAAM;AAAA;;AACb,YAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,YAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,YAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC;AACvCe,QAAAA,KAAK,EAAE,OADgC;AAEvCC,QAAAA,MAAM,EAAE,OAF+B;AAGvCC,QAAAA,QAAQ,EAAE,CAH6B;AAIvCC,QAAAA,SAAS,EAAE,CAJ4B;AAKvCC,QAAAA,IAAI,EAAE;AALiC,OAAD,CAAxC;AAQAlB,MAAAA,SAAS,CAAC,MAAM;AACd,SAAC,YAAY;AACX,gBAAMQ,UAAU,GAAG,MAAMH,cAAc,EAAvC;AACAI,UAAAA,aAAa,CAACD,UAAD,CAAb;AACD,SAHD;AAID,OALQ,EAKN,EALM,CAAT;AAOA,0BACE;AAAA,+BACE,QAAC,UAAD,OACMI,QADN;AAEE,UAAA,oBAAoB,EAAEO,OAAO,CAACC,GAAR,CAAYC,sBAFpC;AAGE,UAAA,gBAAgB,EAAGC,YAAD,IAAkBT,WAAW,CAACS,YAAD,CAHjD;AAIE,UAAA,QAAQ,EAAC,sDAJX;AAAA,oBAMGd,UAAU,CAACe,GAAX,CAAgBC,KAAD,iBACd;AAAA,oCACE,QAAC,MAAD;AAEE,cAAA,QAAQ,EAAEA,KAAK,CAACR,QAFlB;AAGE,cAAA,SAAS,EAAEQ,KAAK,CAACP,SAHnB,CAKE;AACA;AANF;AAAA,qCAQE;AACE,gBAAA,OAAO,EAAE,MACPN,YAAY,CAAC,EACX,GAAGD,SADQ;AAEX,mBAACc,KAAK,CAACC,GAAP,GAAa;AAFF,iBAAD,CAFhB;AAAA,uCAQE;AACE,kBAAA,SAAS,EAAC,QADZ;AAEE,kBAAA,KAAK,EAAE;AACLX,oBAAAA,KAAK,EAAE,MADF;AAELC,oBAAAA,MAAM,EAAE;AAFH,mBAFT;AAME,kBAAA,OAAO,EAAC,WANV;AAOE,kCAAa,KAPf;AAQE,kBAAA,IAAI,EAAC,MARP;AASE,oCAAe,OATjB;AAUE,qCAAgB,OAVlB;AAAA,0CAYE;AAAM,oBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,0BAZF,eAaE;AAAM,oBAAA,EAAE,EAAC,GAAT;AAAa,oBAAA,EAAE,EAAC,IAAhB;AAAqB,oBAAA,EAAE,EAAC,GAAxB;AAA4B,oBAAA,EAAE,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,0BAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA;AARF,eACOS,KAAK,CAACC,GADb;AAAA;AAAA;AAAA;AAAA,oBADF,EAkCGf,SAAS,CAACc,KAAK,CAACC,GAAP,CAAT,gBACC,QAAC,KAAD;AACE,cAAA,QAAQ,EAAED,KAAK,CAACR,QADlB;AAEE,cAAA,SAAS,EAAEQ,KAAK,CAACP,SAFnB;AAGE,cAAA,WAAW,EAAE,IAHf;AAIE,cAAA,YAAY,EAAE,KAJhB;AAKE,cAAA,OAAO,EAAE,MAAM,KAAKS,QAAL,CAAc;AAAEhB,gBAAAA,SAAS,EAAE;AAAb,eAAd,CALjB;AAME,cAAA,MAAM,EAAC,KANT;AAAA,qCAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,oBADD,GAWG,IA7CN;AAAA,0BADD;AANH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AA4DD,KA/E4B;AAAA;;AAAA;;AAkF/B,eAAeJ,MAAf","sourcesContent":["import * as React from \"react\";\r\nimport { useState, useEffect, Component } from \"react\";\r\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\r\nimport { listLogEntries } from \"../../FrontApi\";\r\nimport \"./mapbox.css\";\r\n\r\nclass MapBox extends Component {\r\n  mapBox = () => {\r\n    const [logEntries, setLogEntries] = useState([]);\r\n    const [showPopup, setShowPopup] = useState({});\r\n    const [viewport, setViewport] = useState({\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      latitude: 0,\r\n      longitude: 0,\r\n      zoom: 1.5,\r\n    });\r\n\r\n    useEffect(() => {\r\n      (async () => {\r\n        const logEntries = await listLogEntries();\r\n        setLogEntries(logEntries);\r\n      })();\r\n    }, []);\r\n\r\n    return (\r\n      <div>\r\n        <ReactMapGL\r\n          {...viewport}\r\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n          onViewportChange={(nextViewport) => setViewport(nextViewport)}\r\n          mapStyle=\"mapbox://styles/accessjoao/ckvwr2unz0sgb14oa0tsnxngk\"\r\n        >\r\n          {logEntries.map((entry) => (\r\n            <>\r\n              <Marker\r\n                key={entry._id}\r\n                latitude={entry.latitude}\r\n                longitude={entry.longitude}\r\n\r\n                //offsetLeft={-5}\r\n                // offsetTop={-20}\r\n              >\r\n                <div\r\n                  onClick={() =>\r\n                    setShowPopup({\r\n                      ...showPopup,\r\n                      [entry._id]: true,\r\n                    })\r\n                  }\r\n                >\r\n                  <svg\r\n                    className=\"marker\"\r\n                    style={{\r\n                      width: \"24px\",\r\n                      height: \"24px\",\r\n                    }}\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke-width=\"1.5\"\r\n                    fill=\"none\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                  >\r\n                    <path d=\"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\"></path>\r\n                    <line x1=\"4\" y1=\"22\" x2=\"4\" y2=\"15\"></line>\r\n                  </svg>\r\n                </div>\r\n              </Marker>\r\n              {showPopup[entry._id] ? (\r\n                <Popup\r\n                  latitude={entry.latitude}\r\n                  longitude={entry.longitude}\r\n                  closeButton={true}\r\n                  closeOnClick={false}\r\n                  onClose={() => this.setState({ showPopup: false })}\r\n                  anchor=\"top\"\r\n                >\r\n                  <div>You are here</div>\r\n                </Popup>\r\n              ) : null}\r\n            </>\r\n          ))}\r\n        </ReactMapGL>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default MapBox;\r\n"]},"metadata":{},"sourceType":"module"}