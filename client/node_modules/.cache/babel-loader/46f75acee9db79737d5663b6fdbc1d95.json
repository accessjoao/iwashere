{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaof\\\\OneDrive\\\\Desktop\\\\Codworks Senior\\\\Solo\\\\frontend\\\\iwashere\\\\client\\\\src\\\\Components\\\\Mapbox\\\\mapbox.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useState, useEffect, Component } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { listLogEntries } from \"../../FrontApi\";\nimport \"./mapbox.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nmapBox = _s(() => {\n  _s();\n\n  const [logEntries, setLogEntries] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  const [viewport, setViewport] = useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 0,\n    longitude: 0,\n    zoom: 1.5\n  });\n  useEffect(() => {\n    (async () => {\n      const logEntries = await listLogEntries();\n      setLogEntries(logEntries);\n    })();\n  }, []);\n\n  class MapBox extends Component {\n    render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n          mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n          onViewportChange: nextViewport => setViewport(nextViewport),\n          mapStyle: \"mapbox://styles/accessjoao/ckvwr2unz0sgb14oa0tsnxngk\",\n          children: logEntries.map(entry => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Marker, {\n              latitude: entry.latitude,\n              longitude: entry.longitude //offsetLeft={-5}\n              // offsetTop={-20}\n              ,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setShowPopup({ ...showPopup,\n                  [entry._id]: true\n                }),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"marker\",\n                  style: {\n                    width: \"24px\",\n                    height: \"24px\"\n                  },\n                  viewBox: \"0 0 24 24\",\n                  \"stroke-width\": \"1.5\",\n                  fill: \"none\",\n                  \"stroke-linecap\": \"round\",\n                  \"stroke-linejoin\": \"round\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"4\",\n                    y1: \"22\",\n                    x2: \"4\",\n                    y2: \"15\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this)\n            }, entry._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 17\n            }, this), showPopup[entry._id] ? /*#__PURE__*/_jsxDEV(Popup, {\n              latitude: entry.latitude,\n              longitude: entry.longitude,\n              closeButton: true,\n              closeOnClick: false,\n              onClose: () => this.setState({\n                showPopup: false\n              }),\n              anchor: \"top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"You are here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this) : null]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this);\n    }\n\n  }\n}, \"NCyDSjX5e2HBOeELC8ll67upwfo=\");\nexport default MapBox;","map":{"version":3,"sources":["C:/Users/joaof/OneDrive/Desktop/Codworks Senior/Solo/frontend/iwashere/client/src/Components/Mapbox/mapbox.jsx"],"names":["React","useState","useEffect","Component","ReactMapGL","Marker","Popup","listLogEntries","mapBox","logEntries","setLogEntries","showPopup","setShowPopup","viewport","setViewport","width","height","latitude","longitude","zoom","MapBox","render","process","env","REACT_APP_MAPBOX_TOKEN","nextViewport","map","entry","_id","setState"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { useState, useEffect, Component } from \"react\";\r\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\r\nimport { listLogEntries } from \"../../FrontApi\";\r\nimport \"./mapbox.css\";\r\n\r\nmapBox = () => {\r\n  const [logEntries, setLogEntries] = useState([]);\r\n  const [showPopup, setShowPopup] = useState({});\r\n  const [viewport, setViewport] = useState({\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    latitude: 0,\r\n    longitude: 0,\r\n    zoom: 1.5,\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const logEntries = await listLogEntries();\r\n      setLogEntries(logEntries);\r\n    })();\r\n  }, []);\r\n\r\n  class MapBox extends Component {\r\n    render() {\r\n      return (\r\n        <div>\r\n          <ReactMapGL\r\n            {...viewport}\r\n            mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n            onViewportChange={(nextViewport) => setViewport(nextViewport)}\r\n            mapStyle=\"mapbox://styles/accessjoao/ckvwr2unz0sgb14oa0tsnxngk\"\r\n          >\r\n            {logEntries.map((entry) => (\r\n              <>\r\n                <Marker\r\n                  key={entry._id}\r\n                  latitude={entry.latitude}\r\n                  longitude={entry.longitude}\r\n\r\n                  //offsetLeft={-5}\r\n                  // offsetTop={-20}\r\n                >\r\n                  <div\r\n                    onClick={() =>\r\n                      setShowPopup({\r\n                        ...showPopup,\r\n                        [entry._id]: true,\r\n                      })\r\n                    }\r\n                  >\r\n                    <svg\r\n                      className=\"marker\"\r\n                      style={{\r\n                        width: \"24px\",\r\n                        height: \"24px\",\r\n                      }}\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke-width=\"1.5\"\r\n                      fill=\"none\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <path d=\"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\"></path>\r\n                      <line x1=\"4\" y1=\"22\" x2=\"4\" y2=\"15\"></line>\r\n                    </svg>\r\n                  </div>\r\n                </Marker>\r\n                {showPopup[entry._id] ? (\r\n                  <Popup\r\n                    latitude={entry.latitude}\r\n                    longitude={entry.longitude}\r\n                    closeButton={true}\r\n                    closeOnClick={false}\r\n                    onClose={() => this.setState({ showPopup: false })}\r\n                    anchor=\"top\"\r\n                  >\r\n                    <div>You are here</div>\r\n                  </Popup>\r\n                ) : null}\r\n              </>\r\n            ))}\r\n          </ReactMapGL>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default MapBox;\r\n"]},"metadata":{},"sourceType":"module"}